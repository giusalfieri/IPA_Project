<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Aircraft Detection: src/aircraft_detection_project/straight_airplanes_extraction.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Aircraft Detection<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_33b76457f0038000fc96ba03fce6c0bf.html">aircraft_detection_project</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">straight_airplanes_extraction.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../da/d36/straight__airplanes__extraction_8h_source.html">straight_airplanes_extraction.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">utils.h</a>&quot;</code><br />
<code>#include &lt;unordered_set&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa4f4b0304a738e30536e5a7b4b6fc5b0" id="r_aa4f4b0304a738e30536e5a7b4b6fc5b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa4f4b0304a738e30536e5a7b4b6fc5b0">selectAirplanes</a> (const cv::Mat &amp;img, const std::vector&lt; cv::Rect &gt; &amp;yolo_boxes, std::vector&lt; cv::Rect &gt; &amp;selected_airplanes_yolo_boxes, int &amp;count, const std::string &amp;img_filename, const std::filesystem::path &amp;straight_airplanes_folder)</td></tr>
<tr class="memdesc:aa4f4b0304a738e30536e5a7b4b6fc5b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects and processes airplane images based on user input.  <br /></td></tr>
<tr class="separator:aa4f4b0304a738e30536e5a7b4b6fc5b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b9c88b87d810de556061e0e5a2013fa" id="r_a5b9c88b87d810de556061e0e5a2013fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b9c88b87d810de556061e0e5a2013fa">binarizeAirplanes</a> (const cv::Mat &amp;channel, const std::vector&lt; cv::Rect &gt; &amp;selected_airplanes_yolo_boxes, std::vector&lt; cv::Mat &gt; &amp;bin_airplanes)</td></tr>
<tr class="memdesc:a5b9c88b87d810de556061e0e5a2013fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Binarizes regions of interest (ROIs) in an image using adaptive thresholding.  <br /></td></tr>
<tr class="separator:a5b9c88b87d810de556061e0e5a2013fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40044599c417b14bb3224ddcd4532ef6" id="r_a40044599c417b14bb3224ddcd4532ef6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40044599c417b14bb3224ddcd4532ef6">calculateGeometricMoments</a> (const std::vector&lt; cv::Mat &gt; &amp;bin_airplanes, const std::vector&lt; cv::Rect &gt; &amp;yolo_boxes, std::vector&lt; std::pair&lt; cv::Point2f, double &gt; &gt; &amp;geometric_moments_descriptors)</td></tr>
<tr class="memdesc:a40044599c417b14bb3224ddcd4532ef6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates geometric moments for a set of binary airplane images and corresponding YOLO bounding boxes.  <br /></td></tr>
<tr class="separator:a40044599c417b14bb3224ddcd4532ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87d4965fb52b6b562fb91b9ba75123c2" id="r_a87d4965fb52b6b562fb91b9ba75123c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87d4965fb52b6b562fb91b9ba75123c2">saveStraightAirplanes</a> (const std::vector&lt; cv::Mat &gt; &amp;airplanes, int &amp;count, const std::string &amp;img_filename, const std::filesystem::path &amp;straight_airplanes_folder)</td></tr>
<tr class="memdesc:a87d4965fb52b6b562fb91b9ba75123c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays and optionally saves a list of airplane images after user confirmation and optional rotation.  <br /></td></tr>
<tr class="separator:a87d4965fb52b6b562fb91b9ba75123c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af51068d059089a8eeadcf3a3e92b30c5" id="r_af51068d059089a8eeadcf3a3e92b30c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af51068d059089a8eeadcf3a3e92b30c5">saveAirplane</a> (const cv::Mat &amp;airplane, int &amp;count, const std::string &amp;img_filename, const std::filesystem::path &amp;straight_airplane_folder)</td></tr>
<tr class="memdesc:af51068d059089a8eeadcf3a3e92b30c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves an airplane image to a specified directory with a unique filename.  <br /></td></tr>
<tr class="separator:af51068d059089a8eeadcf3a3e92b30c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13bd926e42d84394c94d4c76b02b97cb" id="r_a13bd926e42d84394c94d4c76b02b97cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13bd926e42d84394c94d4c76b02b97cb">extractRotatedAirplanes</a> (const cv::Mat &amp;img, const std::vector&lt; cv::Mat &gt; &amp;bin_airplanes, const std::vector&lt; std::pair&lt; cv::Point2f, double &gt; &gt; &amp;geometric_moments_descriptors, const std::vector&lt; cv::Rect &gt; &amp;yolo_boxes, std::vector&lt; cv::Mat &gt; &amp;airplanes_vector)</td></tr>
<tr class="memdesc:a13bd926e42d84394c94d4c76b02b97cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts and rotates airplane images from the input image based on geometric moments and YOLO bounding boxes.  <br /></td></tr>
<tr class="separator:a13bd926e42d84394c94d4c76b02b97cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb022a7d4389eda4d961c2a41b7cd407" id="r_afb022a7d4389eda4d961c2a41b7cd407"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb022a7d4389eda4d961c2a41b7cd407">getValidInput</a> (const std::string &amp;prompt, const std::vector&lt; std::string &gt; &amp;valid_inputs)</td></tr>
<tr class="memdesc:afb022a7d4389eda4d961c2a41b7cd407"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prompts the user for input until a valid input is provided.  <br /></td></tr>
<tr class="separator:afb022a7d4389eda4d961c2a41b7cd407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa79e2b5c5a2c9486b0f25db97f7aa10b" id="r_aa79e2b5c5a2c9486b0f25db97f7aa10b"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa79e2b5c5a2c9486b0f25db97f7aa10b">getBoundarySafeROI</a> (const cv::Mat &amp;img, cv::Rect &amp;roi)</td></tr>
<tr class="memdesc:aa79e2b5c5a2c9486b0f25db97f7aa10b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts a region of interest (ROI) from an image, ensuring it stays within image boundaries.  <br /></td></tr>
<tr class="separator:aa79e2b5c5a2c9486b0f25db97f7aa10b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a542beda094678755752b3ab85e032153" id="r_a542beda094678755752b3ab85e032153"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a542beda094678755752b3ab85e032153">extractStraightAirplanes</a> ()</td></tr>
<tr class="memdesc:a542beda094678755752b3ab85e032153"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts, processes, and saves straightened airplane images from a dataset.  <br /></td></tr>
<tr class="separator:a542beda094678755752b3ab85e032153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75f83f8d2a70ad729a49c19adfb565cb" id="r_a75f83f8d2a70ad729a49c19adfb565cb"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75f83f8d2a70ad729a49c19adfb565cb">correctAngle</a> (double angle)</td></tr>
<tr class="memdesc:a75f83f8d2a70ad729a49c19adfb565cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Corrects the orientation angle of an airplane image.  <br /></td></tr>
<tr class="separator:a75f83f8d2a70ad729a49c19adfb565cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dddf300cad234b04a20a7ce4ed651a5" id="r_a1dddf300cad234b04a20a7ce4ed651a5"><td class="memItemLeft" align="right" valign="top">cv::Rect&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1dddf300cad234b04a20a7ce4ed651a5">calculateCenteredROI</a> (const cv::Point2f &amp;center, const cv::Size &amp;size, float scale_factor)</td></tr>
<tr class="memdesc:a1dddf300cad234b04a20a7ce4ed651a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a centered region of interest (ROI) around a given point with a specified size and scale factor.  <br /></td></tr>
<tr class="separator:a1dddf300cad234b04a20a7ce4ed651a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5b9c88b87d810de556061e0e5a2013fa" name="a5b9c88b87d810de556061e0e5a2013fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b9c88b87d810de556061e0e5a2013fa">&#9670;&#160;</a></span>binarizeAirplanes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void binarizeAirplanes </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>channel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; cv::Rect &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>selected_airplanes_yolo_boxes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Mat &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>bin_airplanes</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Binarizes regions of interest (ROIs) in an image using adaptive thresholding. </p>
<p>This function extracts specified ROIs from an image channel, applies adaptive thresholding to binarize them, and performs morphological dilation to enhance the binary images. The resulting binary images are stored in an output vector.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>The input image channel from which the ROIs are extracted. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">selected_airplanes_yolo_boxes</td><td>A vector of <code>cv::Rect</code> objects representing the ROIs to be binarized. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bin_airplanes</td><td>A vector of <code>cv::Mat</code> objects to store the resulting binary images.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The function adjusts the block size for adaptive thresholding to ensure it is odd. </dd>
<dd>
A constant <code>C</code> is used to fine-tune the thresholding. </dd>
<dd>
Morphological dilation is applied using an elliptical structuring element.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>cv::adaptiveThreshold </dd>
<dd>
cv::morphologyEx </dd>
<dd>
cv::getStructuringElement </dd>
<dd>
cv::THRESH_BINARY </dd></dl>

</div>
</div>
<a id="a1dddf300cad234b04a20a7ce4ed651a5" name="a1dddf300cad234b04a20a7ce4ed651a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dddf300cad234b04a20a7ce4ed651a5">&#9670;&#160;</a></span>calculateCenteredROI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Rect calculateCenteredROI </td>
          <td>(</td>
          <td class="paramtype">const cv::Point2f &amp;</td>          <td class="paramname"><span class="paramname"><em>center</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cv::Size &amp;</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>scale_factor</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates a centered region of interest (ROI) around a given point with a specified size and scale factor. </p>
<p>This function computes a rectangular ROI centered at the given point, with dimensions scaled by the specified scale factor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">center</td><td>The center point around which the ROI is calculated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>The size of the ROI before scaling. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scale_factor</td><td>The factor by which the size of the ROI is scaled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>cv::Rect</code> representing the calculated ROI.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The resulting ROI may need to be adjusted to ensure it stays within the image boundaries when used. </dd></dl>

</div>
</div>
<a id="a40044599c417b14bb3224ddcd4532ef6" name="a40044599c417b14bb3224ddcd4532ef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40044599c417b14bb3224ddcd4532ef6">&#9670;&#160;</a></span>calculateGeometricMoments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void calculateGeometricMoments </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; cv::Mat &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>bin_airplanes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; cv::Rect &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>yolo_boxes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::pair&lt; cv::Point2f, double &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>geometric_moments_descriptors</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates geometric moments for a set of binary airplane images and corresponding YOLO bounding boxes. </p>
<p>This function computes the geometric moments for each binary airplane image, calculates the center and orientation angle, and adjusts the center based on the corresponding YOLO bounding box. The results are stored in a vector of pairs, where each pair contains the corrected center point and the orientation angle in degrees.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bin_airplanes</td><td>A vector of binary <code>cv::Mat</code> objects representing the segmented airplanes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">yolo_boxes</td><td>A vector of <code>cv::Rect</code> objects representing the YOLO bounding boxes for each airplane. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">geometric_moments_descriptors</td><td>A vector of pairs where each pair contains the corrected center point (<code>cv::Point2f</code>) and the orientation angle (<code>double</code>) in degrees for each airplane.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The function assumes that the contours are sorted by area in descending order to select the largest contour for moment calculation. </dd>
<dd>
The orientation angle is corrected to degrees from radians.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>cv::findContours </dd>
<dd>
cv::moments </dd>
<dd>
std::atan2 </dd>
<dd>
<a class="el" href="../../de/d06/utils_8cpp.html#a7c651246901d33b6195bcd47584bea9a" title="Converts radians to degrees.">rad2degrees</a> </dd>
<dd>
<a class="el" href="../../de/d06/utils_8cpp.html#a8b4526ccf2b074f5834c36becab88ed8" title="Comparator function to sort contours by descending area.">sortByDescendingArea</a> </dd></dl>

</div>
</div>
<a id="a75f83f8d2a70ad729a49c19adfb565cb" name="a75f83f8d2a70ad729a49c19adfb565cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75f83f8d2a70ad729a49c19adfb565cb">&#9670;&#160;</a></span>correctAngle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double correctAngle </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>angle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Corrects the orientation angle of an airplane image. </p>
<p>This function adjusts the orientation angle of an airplane image to ensure it is within a specific range. If the angle is between 0 and 90 degrees, it adds 90 degrees to the angle. If the angle is negative, it adjusts the angle to be within the 0-180 degree range.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">angle</td><td>The original orientation angle of the airplane in degrees. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The corrected orientation angle in degrees. </dd></dl>

</div>
</div>
<a id="a13bd926e42d84394c94d4c76b02b97cb" name="a13bd926e42d84394c94d4c76b02b97cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13bd926e42d84394c94d4c76b02b97cb">&#9670;&#160;</a></span>extractRotatedAirplanes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void extractRotatedAirplanes </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>img</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; cv::Mat &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>bin_airplanes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; cv::Point2f, double &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>geometric_moments_descriptors</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; cv::Rect &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>yolo_boxes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Mat &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>airplanes_vector</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extracts and rotates airplane images from the input image based on geometric moments and YOLO bounding boxes. </p>
<p>This function processes binary airplane images and their corresponding geometric moments and YOLO bounding boxes to extract, rotate, and resize the airplanes. The resulting straightened airplane images are stored in the output vector.</p>
<p>The steps are as follows:</p><ol type="1">
<li>Iterate through each binary airplane image.</li>
<li>Check if the current index is valid.</li>
<li>Calculate the center and correct the angle using geometric moments.</li>
<li>Define the region of interest (ROI) and get a safe ROI within image boundaries.</li>
<li>Rotate the ROI to align the airplane.</li>
<li>Define the final ROI and extract the straightened airplane image.</li>
<li>Store the straightened airplane image in the output vector if the final ROI is valid.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">img</td><td>The input image from which the airplanes are extracted. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bin_airplanes</td><td>A vector of binary <code>cv::Mat</code> objects representing the segmented airplanes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">geometric_moments_descriptors</td><td>A vector of pairs containing the center points and angles (in degrees) for each airplane. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">yolo_boxes</td><td>A vector of <code>cv::Rect</code> objects representing the YOLO bounding boxes for each airplane. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">airplanes_vector</td><td>A vector of <code>cv::Mat</code> objects to store the extracted and rotated airplane images.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The function uses scaling factors to adjust the size of the ROI for better extraction. </dd>
<dd>
If the final ROI is out of image boundaries, the airplane is skipped.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a75f83f8d2a70ad729a49c19adfb565cb" title="Corrects the orientation angle of an airplane image.">correctAngle</a> </dd>
<dd>
<a class="el" href="#a1dddf300cad234b04a20a7ce4ed651a5" title="Calculates a centered region of interest (ROI) around a given point with a specified size and scale f...">calculateCenteredROI</a> </dd>
<dd>
<a class="el" href="#aa79e2b5c5a2c9486b0f25db97f7aa10b" title="Extracts a region of interest (ROI) from an image, ensuring it stays within image boundaries.">getBoundarySafeROI</a> </dd>
<dd>
cv::getRotationMatrix2D </dd>
<dd>
cv::warpAffine </dd></dl>

</div>
</div>
<a id="a542beda094678755752b3ab85e032153" name="a542beda094678755752b3ab85e032153"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a542beda094678755752b3ab85e032153">&#9670;&#160;</a></span>extractStraightAirplanes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void extractStraightAirplanes </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extracts, processes, and saves straightened airplane images from a dataset. </p>
<p>This function processes a dataset of images and their corresponding YOLO label files to extract, straighten, and save airplane images. It performs the following steps:</p><ol type="1">
<li>Reads the paths of the dataset images and YOLO label files.</li>
<li>Creates a directory to save the straightened airplane images.</li>
<li>Iterates through each dataset image: a. Reads the image and converts it to HSV color space. b. Processes the YOLO labels to obtain bounding boxes for the airplanes. c. Prompts the user to select and optionally rotate the airplanes. d. Binarizes the selected airplane regions. e. Calculates geometric moments to determine the orientation of the airplanes. f. Extracts and rotates the airplane images to be upright. g. Saves the processed airplane images to the specified directory.</li>
</ol>
<dl class="section note"><dt>Note</dt><dd>This function assumes that the dataset images and YOLO label files are in the same directory. </dd>
<dd>
The processed images are saved in the <code>straight_airplanes</code> directory within the source directory.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d06/utils_8cpp.html#a8e99f2b0bbe078cc61fb6ccf31a8bf87" title="Retrieves a list of file paths that match a specified pattern in a directory.">globFiles</a> </dd>
<dd>
<a class="el" href="../../de/d06/utils_8cpp.html#a312fe2e168c4ec3231ed4cfc75953780" title="Creates a new directory if it does not already exist.">createDirectory</a> </dd>
<dd>
<a class="el" href="../../de/d06/utils_8cpp.html#a65884b2e86600052b680f458db3ccead" title="Processes YOLO labels from a file and converts them to bounding boxes.">processYoloLabels</a> </dd>
<dd>
<a class="el" href="#aa4f4b0304a738e30536e5a7b4b6fc5b0" title="Selects and processes airplane images based on user input.">selectAirplanes</a> </dd>
<dd>
<a class="el" href="#a5b9c88b87d810de556061e0e5a2013fa" title="Binarizes regions of interest (ROIs) in an image using adaptive thresholding.">binarizeAirplanes</a> </dd>
<dd>
<a class="el" href="#a40044599c417b14bb3224ddcd4532ef6" title="Calculates geometric moments for a set of binary airplane images and corresponding YOLO bounding boxe...">calculateGeometricMoments</a> </dd>
<dd>
<a class="el" href="#a13bd926e42d84394c94d4c76b02b97cb" title="Extracts and rotates airplane images from the input image based on geometric moments and YOLO boundin...">extractRotatedAirplanes</a> </dd>
<dd>
<a class="el" href="#a87d4965fb52b6b562fb91b9ba75123c2" title="Displays and optionally saves a list of airplane images after user confirmation and optional rotation...">saveStraightAirplanes</a> </dd></dl>

</div>
</div>
<a id="aa79e2b5c5a2c9486b0f25db97f7aa10b" name="aa79e2b5c5a2c9486b0f25db97f7aa10b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa79e2b5c5a2c9486b0f25db97f7aa10b">&#9670;&#160;</a></span>getBoundarySafeROI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat getBoundarySafeROI </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>img</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Rect &amp;</td>          <td class="paramname"><span class="paramname"><em>roi</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extracts a region of interest (ROI) from an image, ensuring it stays within image boundaries. </p>
<p>This function checks if the specified ROI is within the boundaries of the given image. If the ROI is within boundaries, it returns the corresponding sub-image. If the ROI exceeds the image boundaries, it pads the image using reflection border, adjusts the ROI, and then extracts the sub-image.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">img</td><td>The input image from which the ROI is extracted. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">roi</td><td>The region of interest specified as a <code>cv::Rect</code>. If the ROI exceeds the image boundaries, it is adjusted to fit within the padded image. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>cv::Mat</code> containing the extracted sub-image corresponding to the ROI.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>cv::copyMakeBorder </dd>
<dd>
cv::Rect </dd></dl>

</div>
</div>
<a id="afb022a7d4389eda4d961c2a41b7cd407" name="afb022a7d4389eda4d961c2a41b7cd407"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb022a7d4389eda4d961c2a41b7cd407">&#9670;&#160;</a></span>getValidInput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string getValidInput </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>prompt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>valid_inputs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prompts the user for input until a valid input is provided. </p>
<p>This function displays a prompt to the user and reads the user's input. It continues to prompt the user until a valid input from the provided list is entered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">prompt</td><td>The message displayed to the user when asking for input. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">valid_inputs</td><td>A vector of strings representing the valid inputs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A string containing the valid input entered by the user.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The function uses an unordered set to store the valid inputs for efficient lookup.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>std::unordered_set </dd>
<dd>
std::vector </dd></dl>

</div>
</div>
<a id="af51068d059089a8eeadcf3a3e92b30c5" name="af51068d059089a8eeadcf3a3e92b30c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af51068d059089a8eeadcf3a3e92b30c5">&#9670;&#160;</a></span>saveAirplane()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void saveAirplane </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>airplane</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;</td>          <td class="paramname"><span class="paramname"><em>count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>img_filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::filesystem::path &amp;</td>          <td class="paramname"><span class="paramname"><em>straight_airplane_folder</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves an airplane image to a specified directory with a unique filename. </p>
<p>This function saves the provided airplane image to a specified directory. The filename is generated using a count and the original image filename.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">airplane</td><td>The <code>cv::Mat</code> object representing the airplane image to be saved. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">count</td><td>An integer counter used to generate unique filenames for the saved images. It is incremented with each call to the function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">img_filename</td><td>The original filename of the image, used as part of the new filename. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">straight_airplane_folder</td><td>The path to the directory where the image will be saved.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>cv::imwrite </dd>
<dd>
std::filesystem::path </dd></dl>

</div>
</div>
<a id="a87d4965fb52b6b562fb91b9ba75123c2" name="a87d4965fb52b6b562fb91b9ba75123c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87d4965fb52b6b562fb91b9ba75123c2">&#9670;&#160;</a></span>saveStraightAirplanes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void saveStraightAirplanes </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; cv::Mat &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>airplanes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;</td>          <td class="paramname"><span class="paramname"><em>count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>img_filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::filesystem::path &amp;</td>          <td class="paramname"><span class="paramname"><em>straight_airplanes_folder</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Displays and optionally saves a list of airplane images after user confirmation and optional rotation. </p>
<p>This function iterates through a list of airplane images, displaying each one to the user. The user can choose to save each image, optionally rotating it before saving. The saved images are stored in a specified directory with unique filenames.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">airplanes</td><td>A vector of <code>cv::Mat</code> objects representing the airplane images to be processed. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">count</td><td>An integer counter used to generate unique filenames for the saved images. It is incremented with each saved image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">img_filename</td><td>The original filename of the image, used as part of the new filename. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">straight_airplanes_folder</td><td>The path to the directory where the images will be saved.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The function displays each image and prompts the user to decide whether to keep it. If the user chooses to keep an image, they can also choose to rotate it before saving.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#afb022a7d4389eda4d961c2a41b7cd407" title="Prompts the user for input until a valid input is provided.">getValidInput</a> </dd>
<dd>
<a class="el" href="../../de/d06/utils_8cpp.html#a59e270cb73cf33d731dc325c3a458b7f" title="Rotates an image by multiples of 90 degrees clockwise.">rotate90</a> </dd>
<dd>
cv::imshow </dd>
<dd>
cv::waitKey </dd>
<dd>
cv::imwrite </dd></dl>

</div>
</div>
<a id="aa4f4b0304a738e30536e5a7b4b6fc5b0" name="aa4f4b0304a738e30536e5a7b4b6fc5b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4f4b0304a738e30536e5a7b4b6fc5b0">&#9670;&#160;</a></span>selectAirplanes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void selectAirplanes </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>img</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; cv::Rect &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>yolo_boxes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Rect &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>selected_airplanes_yolo_boxes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;</td>          <td class="paramname"><span class="paramname"><em>count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>img_filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::filesystem::path &amp;</td>          <td class="paramname"><span class="paramname"><em>straight_airplanes_folder</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selects and processes airplane images based on user input. </p>
<p>This function iterates through a list of YOLO bounding boxes, displays each corresponding airplane image to the user, and prompts the user to decide whether to process and select the airplane. The user can also choose to rotate and save the airplane image.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">img</td><td>The input image containing the airplanes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">yolo_boxes</td><td>A vector of <code>cv::Rect</code> objects representing the YOLO bounding boxes for each airplane. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">selected_airplanes_yolo_boxes</td><td>A vector of <code>cv::Rect</code> objects to store the selected YOLO bounding boxes for further processing. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">count</td><td>An integer counter used to generate unique filenames for the saved images. It is incremented with each saved image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">img_filename</td><td>The original filename of the image, used as part of the new filename. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">straight_airplanes_folder</td><td>The path to the directory where the processed images will be saved.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The function displays each airplane image and prompts the user to decide whether to process it. </dd>
<dd>
If the user chooses to process an airplane, it is added to the <code>selected_airplanes_yolo_boxes</code> vector. </dd>
<dd>
If the user chooses to rotate and save an airplane, it is rotated by a multiple of 90 degrees clockwise and saved.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#afb022a7d4389eda4d961c2a41b7cd407" title="Prompts the user for input until a valid input is provided.">getValidInput</a> </dd>
<dd>
<a class="el" href="../../de/d06/utils_8cpp.html#a59e270cb73cf33d731dc325c3a458b7f" title="Rotates an image by multiples of 90 degrees clockwise.">rotate90</a> </dd>
<dd>
<a class="el" href="#af51068d059089a8eeadcf3a3e92b30c5" title="Saves an airplane image to a specified directory with a unique filename.">saveAirplane</a> </dd>
<dd>
cv::imshow </dd>
<dd>
cv::waitKey </dd>
<dd>
cv::Rect </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
